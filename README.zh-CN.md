# ğŸš€ Claude Code å®¹å™¨ç®¡ç†å¹³å°

<p align="center">
  <b>åŸºäº Web çš„ Docker å®¹å™¨ç®¡ç†å¹³å°ï¼Œç”¨äºè¿è¡Œå’Œç®¡ç† Claude Code å¼€å‘ç¯å¢ƒ</b>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat-square&logo=go" alt="Go">
  <img src="https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react" alt="React">
  <img src="https://img.shields.io/badge/Docker-Required-2496ED?style=flat-square&logo=docker" alt="Docker">
  <img src="https://img.shields.io/badge/Traefik-v3-24A1C1?style=flat-square&logo=traefikproxy" alt="Traefik">
  <img src="https://img.shields.io/badge/License-MIT-green?style=flat-square" alt="License">
</p>

<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a>
</p>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ” **ç”¨æˆ·è®¤è¯** | åŸºäº JWT çš„è®¤è¯ç³»ç»Ÿï¼Œæ”¯æŒé…ç½®ç®¡ç†å‘˜å‡­æ®å’Œé€Ÿç‡é™åˆ¶ |
| ğŸ™ **GitHub é›†æˆ** | æµè§ˆå¹¶å…‹éš†ä»“åº“åˆ°å®¹å™¨å†… |
| ğŸ¤– **Claude Code åˆå§‹åŒ–** | è‡ªåŠ¨ä½¿ç”¨ Claude Code CLI åˆå§‹åŒ–é¡¹ç›®ï¼ˆå¯é€‰ï¼‰ |
| ğŸ³ **å®¹å™¨ç®¡ç†** | åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ Docker å®¹å™¨ |
| ğŸ’» **Web ç»ˆç«¯** | é€šè¿‡ WebSocket å®æ—¶äº¤äº’ï¼Œæ”¯æŒä¼šè¯æŒä¹…åŒ–å’Œå†å²è®°å½• |
| ğŸ“ **æ–‡ä»¶ç®¡ç†** | æµè§ˆã€ä¸Šä¼ ã€ä¸‹è½½æ–‡ä»¶ï¼Œæ”¯æŒæ‹–æ‹½æ“ä½œ |
| ğŸŒ **æœåŠ¡ä»£ç†** | é€šè¿‡ Traefik åå‘ä»£ç†æš´éœ²å®¹å™¨å†…æœåŠ¡ |
| ğŸ’» **Code-Server** | é€šè¿‡å­åŸŸåè·¯ç”±åœ¨æµè§ˆå™¨ä¸­è®¿é—® VS Code |
| âš™ï¸ **èµ„æºæ§åˆ¶** | è‡ªå®šä¹‰å®¹å™¨ CPU å’Œå†…å­˜é™åˆ¶ |
| ğŸ”’ **å®‰å…¨éš”ç¦»** | å®¹å™¨éš”ç¦»ã€èƒ½åŠ›åˆ é™¤ã€seccomp é…ç½® |

### ğŸ†• Headless æ¨¡å¼ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ’¬ **Headless èŠå¤©** | ç‹¬ç«‹çš„èŠå¤©ç•Œé¢ï¼Œç”¨äºä¸ Claude CLI äº¤äº’ |
| ğŸ”„ **æµå¼ JSON è¾“å‡º** | å®æ—¶æµå¼ä¼ è¾“ Claude å“åº”ï¼Œæ”¯æŒç»“æ„åŒ–è§£æ |
| ğŸ“ **å¯¹è¯å†å²** | æŒä¹…åŒ–å¯¹è¯å­˜å‚¨ï¼Œæ”¯æŒé€è½®è·Ÿè¸ª |
| ğŸ¯ **æ¨¡å‹é€‰æ‹©** | ä»å¯ç”¨çš„ Claude æ¨¡å‹ä¸­é€‰æ‹©ï¼Œæˆ–ä½¿ç”¨é»˜è®¤æ¨¡å‹ |
| ğŸ’° **Token ä¸è´¹ç”¨è¿½è¸ª** | è¿½è¸ªæ¯è½®å¯¹è¯çš„è¾“å…¥/è¾“å‡º Token å’Œ API è´¹ç”¨ |
| ğŸ”Œ **WebSocket å®æ—¶é€šä¿¡** | é€šè¿‡ WebSocket å®æ—¶æµå¼ä¼ è¾“ Claude å“åº” |
| ğŸ“Š **è½®æ¬¡å¡ç‰‡** | å¯è§†åŒ–å±•ç¤ºç”¨æˆ·æç¤ºå’ŒåŠ©æ‰‹å“åº” |
| ğŸ”— **ä¼šè¯æ¢å¤** | ä½¿ç”¨ `--resume` æ ‡å¿—æ¢å¤ç°æœ‰ Claude ä¼šè¯ |

### ğŸ†• Claude é…ç½®ç®¡ç†ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ“ **é…ç½®æ¨¡æ¿** | åˆ›å»ºå’Œç®¡ç† Claude é…ç½®æ¨¡æ¿ï¼ˆCLAUDE.mdã€Skillsã€MCPã€Commandsï¼‰ |
| ğŸ“¦ **å¤šæ–‡ä»¶æŠ€èƒ½** | ä¸Šä¼ åŒ…å«å®Œæ•´æŠ€èƒ½æ–‡ä»¶å¤¹ç»“æ„çš„ zip å‹ç¼©åŒ… |
| ğŸ’‰ **è‡ªåŠ¨æ³¨å…¥** | åˆ›å»ºå®¹å™¨æ—¶è‡ªåŠ¨æ³¨å…¥é…ç½® |
| ğŸ”§ **æ‰‹åŠ¨æ³¨å…¥** | é€šè¿‡ç»ˆç«¯é¡µé¢ UI ä¸ºè¿è¡Œä¸­çš„å®¹å™¨æ³¨å…¥é…ç½® |
| ğŸ‘€ **é…ç½®é¢„è§ˆ** | æ³¨å…¥å‰é¢„è§ˆé…ç½®å†…å®¹ |
| ğŸŒ **åŠ¨æ€æœåŠ¡å™¨åœ°å€** | é…ç½®å’Œåˆ‡æ¢å¤šä¸ªæœåŠ¡å™¨åœ°å€ |

### é«˜çº§åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ¤– **PTY ç›‘æ§** | å®æ—¶ç»ˆç«¯ç›‘æ§ï¼Œæ”¯æŒé™é»˜æ£€æµ‹ï¼ˆ5-300ç§’å¯é…ç½®é˜ˆå€¼ï¼‰ |
| âš¡ **è‡ªåŠ¨åŒ–ç­–ç•¥** | 4 ç§è‡ªåŠ¨åŒ–æ¨¡å¼ï¼šWebhookã€å‘½ä»¤æ³¨å…¥ã€ä»»åŠ¡é˜Ÿåˆ—ã€AI æ™ºèƒ½ |
| ğŸ“‹ **ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ** | ç®¡ç†ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ”¯æŒæ‹–æ‹½æ’åºå’Œè‡ªåŠ¨æ‰§è¡Œ |
| ğŸ“Š **è‡ªåŠ¨åŒ–æ—¥å¿—** | å…¨é¢çš„æ—¥å¿—è®°å½•ï¼Œæ”¯æŒç­›é€‰ã€å¯¼å‡ºå’Œç»Ÿè®¡ |
| ğŸ”Œ **åŠ¨æ€ç«¯å£ç®¡ç†** | ä¸ºè¿è¡Œä¸­çš„å®¹å™¨åŠ¨æ€æ·»åŠ /åˆ é™¤ç«¯å£æ˜ å°„ |
| ğŸ¯ **AI é›†æˆ** | åŸºäº LLM çš„è‡ªåŠ¨åŒ–å†³ç­–ï¼Œæ”¯æŒ OpenAI å…¼å®¹ API |
| ğŸ“¡ **Docker äº‹ä»¶ç›‘å¬** | åŸºäºå®¹å™¨ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„è‡ªåŠ¨æ¸…ç†å’Œç›‘æ§ |
| ğŸ”„ **ä¼šè¯ç®¡ç†** | ç»ˆç«¯ä¼šè¯æŒä¹…åŒ–ï¼Œæ”¯æŒå‹ç¼©å­˜å‚¨å’Œé‡è¿ |
| ğŸ­ **å­¤ç«‹å®¹å™¨ç®¡ç†** | åˆ—å‡ºå’Œç®¡ç†æ•°æ®åº“å¤–çš„ Docker å®¹å™¨ |
| ğŸ” **çµæ´»è®¤è¯** | å¤šç§è®¤è¯æ–¹å¼ï¼šheaderã€cookieã€query å‚æ•° |
| ğŸ§© **VS Code æ‰©å±•** | PTY è‡ªåŠ¨åŒ–ç›‘æ§æ‰©å±•ï¼Œæ”¯æŒ VS Code é›†æˆ |
| âš™ï¸ **ç¯å¢ƒé…ç½®æ–‡ä»¶** | å¯é…ç½®çš„ API URL å’Œ Token å˜é‡å |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸŒ æµè§ˆå™¨                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ä¸»ä»ªè¡¨æ¿          â”‚    â”‚   Headless èŠå¤© (/chat)             â”‚ â”‚
â”‚  â”‚   ç»ˆç«¯ã€æ–‡ä»¶        â”‚    â”‚   Claude å¯¹è¯                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                              â”‚
              â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ“¡ Nginx (åå‘ä»£ç†)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ä¸»ç«™ç‚¹ (:80)       â”‚    â”‚  *.code.example.com (å­åŸŸå)        â”‚ â”‚
â”‚  â”‚   example.com       â”‚    â”‚  â†’ Traefik â†’ å®¹å™¨:8080              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                              â”‚
              â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ åç«¯ (Go:8080)      â”‚    â”‚       ğŸ”€ Traefik (38080)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  æ ¹æ®å®¹å™¨åè‡ªåŠ¨è·¯ç”±                  â”‚
â”‚  â”‚ REST API          â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚ WebSocket ç»ˆç«¯    â”‚  â”‚                   â”‚
â”‚  â”‚ Headless ç®¡ç†å™¨   â”‚  â”‚                   â–¼
â”‚  â”‚ å®¹å™¨ç®¡ç†          â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚       ğŸ³ Docker å®¹å™¨                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
              â”‚                â”‚  â”‚ dev-1   â”‚ â”‚ dev-2   â”‚ â”‚ dev-N   â”‚â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  â”‚ :8080   â”‚ â”‚ :8080   â”‚ â”‚ :8080   â”‚â”‚
                               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

<table>
<tr>
<td width="50%">

### ğŸ”§ åç«¯
- **Go 1.21+** - æ ¸å¿ƒè¯­è¨€
- **Gin** - Web æ¡†æ¶
- **GORM + SQLite** - æ•°æ®åº“
- **Docker SDK** - å®¹å™¨ç®¡ç†
- **gorilla/websocket** - ç»ˆç«¯å’Œ Headless WebSocket

</td>
<td width="50%">

### ğŸ¨ å‰ç«¯
- **React 18 + TypeScript**
- **Vite** - æ„å»ºå·¥å…·
- **shadcn/ui + Tailwind CSS** - UI ç»„ä»¶
- **xterm.js** - ç»ˆç«¯æ¨¡æ‹Ÿå™¨

</td>
</tr>
<tr>
<td width="50%">

### ğŸ§© VS Code æ‰©å±•
- **TypeScript** - æ‰©å±•å¼€å‘è¯­è¨€
- **WebSocket** - å®æ—¶é€šä¿¡
- **VS Code API** - IDE é›†æˆ

</td>
<td width="50%">

### ğŸ³ åŸºç¡€è®¾æ–½
- **Docker** - å®¹å™¨è¿è¡Œæ—¶
- **Traefik** - åå‘ä»£ç†
- **Nginx** - Web æœåŠ¡å™¨
- **SQLite** - æ•°æ®åº“

</td>
</tr>
</table>

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ å‰ç½®è¦æ±‚

- ğŸ³ Dockerï¼ˆç”¨äºè¿è¡Œå¼€å‘å®¹å™¨ï¼‰
- ğŸ“¦ Node.js 20+
- ğŸ”§ Go 1.21+

### 1ï¸âƒ£ æ„å»ºåŸºç¡€é•œåƒ

```bash
cd docker
./build-base.sh
```

> è¿™ä¼šåˆ›å»ºåŒ…å« Node.js 20ã€Git å’Œ Claude Code CLI çš„ `cc-base:latest` é•œåƒã€‚

### 2ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-password
```

### 3ï¸âƒ£ å¯åŠ¨å¼€å‘æœåŠ¡

**ğŸ§ Linux/macOS:**
```bash
./start-dev.sh
```

**ğŸªŸ Windows:**
```cmd
start-dev.bat
```

### 4ï¸âƒ£ è®¿é—®åº”ç”¨

| æœåŠ¡ | åœ°å€ |
|------|------|
| ğŸ¨ å‰ç«¯ | http://localhost:5173 |
| ğŸ’¬ Headless èŠå¤© | http://localhost:5173/chat |
| ğŸ“ Claude é…ç½® | http://localhost:5173/claude-config |
| ğŸ”§ åç«¯ API | http://localhost:8080 |
| ğŸ“Š Traefik ä»ªè¡¨æ¿ | http://localhost:8081/dashboard/ |

> ğŸ’¡ å¦‚æœæœªè®¾ç½® `ADMIN_PASSWORD`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¯†ç å¹¶æ˜¾ç¤ºåœ¨åç«¯æ—¥å¿—ä¸­ã€‚

---

## ğŸ“ Claude é…ç½®ç®¡ç†

Claude é…ç½®ç®¡ç†åŠŸèƒ½å…è®¸æ‚¨åˆ›å»ºã€ç®¡ç†å’Œæ³¨å…¥ Claude é…ç½®åˆ°å®¹å™¨ä¸­ã€‚

### é…ç½®ç±»å‹

| ç±»å‹ | è¯´æ˜ | æ–‡ä»¶ä½ç½® |
|------|------|----------|
| ğŸ“„ **CLAUDE.md** | é¡¹ç›®çº§ Claude æŒ‡ä»¤æ–‡ä»¶ | `~/.claude/CLAUDE.md` |
| ğŸ¯ **Skills** | Claude æŠ€èƒ½å®šä¹‰ | `~/.claude/skills/` |
| ğŸ”Œ **MCP** | Model Context Protocol é…ç½® | `~/.claude/mcp.json` |
| âŒ¨ï¸ **Commands** | è‡ªå®šä¹‰å‘½ä»¤é…ç½® | `~/.claude/commands.json` |

### åŠŸèƒ½ç‰¹æ€§

- **æ¨¡æ¿ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤é…ç½®æ¨¡æ¿
- **å¤šæ–‡ä»¶æŠ€èƒ½** - ä¸Šä¼  zip å‹ç¼©åŒ…ï¼ŒåŒ…å«å®Œæ•´æŠ€èƒ½æ–‡ä»¶å¤¹ï¼ˆSKILL.md + è„šæœ¬ã€èµ„æºç­‰ï¼‰
- **è‡ªåŠ¨æ³¨å…¥** - åˆ›å»ºå®¹å™¨æ—¶è‡ªåŠ¨æ³¨å…¥é€‰å®šçš„é…ç½®
- **æ‰‹åŠ¨æ³¨å…¥** - é€šè¿‡ç»ˆç«¯é¡µé¢ä¸ºè¿è¡Œä¸­çš„å®¹å™¨æ³¨å…¥é…ç½®
- **é…ç½®é¢„è§ˆ** - æ³¨å…¥å‰é¢„è§ˆé…ç½®å†…å®¹

### ä½¿ç”¨æ–¹æ³•

1. è¿›å…¥ **Claude é…ç½®** é¡µé¢
2. åˆ›å»ºæ–°çš„é…ç½®æ¨¡æ¿ï¼Œé€‰æ‹©ç±»å‹å¹¶å¡«å†™å†…å®¹
3. å¯¹äºæŠ€èƒ½ç±»å‹ï¼Œå¯ä»¥é€‰æ‹©ï¼š
   - **å•æ–‡ä»¶æ¨¡å¼** - ç›´æ¥ç¼–è¾‘ SKILL.md å†…å®¹
   - **å‹ç¼©åŒ…æ¨¡å¼** - ä¸Šä¼ åŒ…å«å®Œæ•´æŠ€èƒ½æ–‡ä»¶å¤¹çš„ zip æ–‡ä»¶
4. åˆ›å»ºå®¹å™¨æ—¶ï¼Œé€‰æ‹©è¦æ³¨å…¥çš„é…ç½®æ¨¡æ¿
5. å¯¹äºå·²è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨ç»ˆç«¯é¡µé¢ç‚¹å‡»"æ³¨å…¥é…ç½®"æŒ‰é’®

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/config-templates` | åˆ—å‡ºæ‰€æœ‰é…ç½®æ¨¡æ¿ |
| POST | `/api/config-templates` | åˆ›å»ºé…ç½®æ¨¡æ¿ |
| GET | `/api/config-templates/:id` | è·å–é…ç½®æ¨¡æ¿ |
| PUT | `/api/config-templates/:id` | æ›´æ–°é…ç½®æ¨¡æ¿ |
| DELETE | `/api/config-templates/:id` | åˆ é™¤é…ç½®æ¨¡æ¿ |
| POST | `/api/containers/:id/inject-configs` | æ³¨å…¥é…ç½®åˆ°å®¹å™¨ |

---

## ğŸ’¬ Headless æ¨¡å¼

Headless æ¨¡å¼æä¾›ç±»ä¼¼èŠå¤©çš„ç•Œé¢ï¼Œç”¨äºä¸ Claude CLI äº¤äº’ï¼Œæ— éœ€ä¼ ç»Ÿçš„ç»ˆç«¯ UIã€‚

### åŠŸèƒ½ç‰¹æ€§

- **ç‹¬ç«‹èŠå¤©ç•Œé¢** (`/chat`) - ä¸“ç”¨çš„ Claude å¯¹è¯é¡µé¢
- **å®¹å™¨é€‰æ‹©** - åœ¨å¤šä¸ªè¿è¡Œä¸­çš„å®¹å™¨ä¹‹é—´åˆ‡æ¢
- **å¯¹è¯ç®¡ç†** - åˆ›å»ºã€æŸ¥çœ‹å’Œåˆ é™¤å¯¹è¯
- **æ¨¡å‹é€‰æ‹©** - ä»å¯ç”¨çš„ Claude æ¨¡å‹ä¸­é€‰æ‹©ï¼Œæˆ–ä½¿ç”¨"é»˜è®¤"
- **å®æ—¶æµå¼ä¼ è¾“** - é€šè¿‡ WebSocket å®æ—¶æµå¼ä¼ è¾“ Claude å“åº”
- **è½®æ¬¡å†å²** - æŸ¥çœ‹å®Œæ•´çš„å¯¹è¯å†å²ï¼ŒåŒ…å« Token/è´¹ç”¨è¿½è¸ª
- **ä¼šè¯æ¢å¤** - è‡ªåŠ¨æ¢å¤ç°æœ‰çš„ Claude ä¼šè¯
- **Markdown æ¸²æŸ“** - ä¸°å¯Œçš„ Markdown æ˜¾ç¤ºï¼Œæ”¯æŒè¯­æ³•é«˜äº®
- **å·¥å…·è°ƒç”¨æ˜¾ç¤º** - å¯æŠ˜å çš„å·¥å…·ä½¿ç”¨å’Œç»“æœå—ï¼Œå¸¦é¢„è§ˆåŠŸèƒ½

### å·¥ä½œåŸç†

1. **é€‰æ‹©å®¹å™¨** - ä»ä¾§è¾¹æ é€‰æ‹©ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨
2. **åˆ›å»º/é€‰æ‹©å¯¹è¯** - å¼€å§‹æ–°å¯¹è¯æˆ–ç»§ç»­ç°æœ‰å¯¹è¯
3. **é€‰æ‹©æ¨¡å‹**ï¼ˆå¯é€‰ï¼‰- é€‰æ‹©ç‰¹å®šçš„ Claude æ¨¡å‹æˆ–ä½¿ç”¨"é»˜è®¤"
4. **å‘é€æç¤º** - è¾“å…¥æ¶ˆæ¯ï¼ŒClaude å°†å®æ—¶å“åº”
5. **æŸ¥çœ‹ç»“æœ** - æŸ¥çœ‹ç»“æ„åŒ–å“åº”ï¼ŒåŒ…æ‹¬å·¥å…·ä½¿ç”¨ã€æ€è€ƒè¿‡ç¨‹å’Œæ–‡æœ¬

### API é…ç½®

è¦å¯ç”¨æ¨¡å‹é€‰æ‹©ï¼Œè¯·åœ¨ç¯å¢ƒé…ç½®æ–‡ä»¶ä¸­é…ç½® API è®¾ç½®ï¼š

1. è¿›å…¥ **è®¾ç½®** â†’ **ç¯å¢ƒé…ç½®æ–‡ä»¶**
2. ç¼–è¾‘æˆ–åˆ›å»ºé…ç½®æ–‡ä»¶
3. è®¾ç½® **API URL å˜é‡å**ï¼ˆä¾‹å¦‚ `ANTHROPIC_BASE_URL`ï¼‰
4. è®¾ç½® **API Token å˜é‡å**ï¼ˆä¾‹å¦‚ `ANTHROPIC_API_KEY`ï¼‰
5. ç³»ç»Ÿå°†ä» `{API_URL}/v1/models` è·å–å¯ç”¨æ¨¡å‹

### WebSocket åè®®

Headless WebSocket æ”¯æŒä»¥ä¸‹æ¶ˆæ¯ç±»å‹ï¼š

**å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼š**
- `headless_start` - åˆ›å»ºæ–°ä¼šè¯
- `headless_prompt` - å‘é€æç¤ºï¼ˆå¯é€‰ `model` å‚æ•°ï¼‰
- `headless_cancel` - å–æ¶ˆå½“å‰æ‰§è¡Œ
- `load_more` - åŠ è½½æ›´å¤šå†å²
- `ping` - ä¿æ´»å¿ƒè·³

**æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼š**
- `session_info` - ä¼šè¯ä¿¡æ¯
- `history` - å¯¹è¯å†å²
- `event` - æµå¼äº‹ä»¶ï¼ˆåŠ©æ‰‹å“åº”ã€å·¥å…·ä½¿ç”¨ç­‰ï¼‰
- `turn_complete` - è½®æ¬¡å®ŒæˆåŠç»Ÿè®¡ä¿¡æ¯
- `error` - é”™è¯¯æ¶ˆæ¯
- `pong` - ä¿æ´»å“åº”

---

## ğŸ“¦ éƒ¨ç½²

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

æœ€å¿«é€Ÿçš„éƒ¨ç½²æ–¹å¼ï¼Œé…ç½®æœ€å°‘ï¼š

```bash
cd deploy-docker
cp .env.example .env
# ç¼–è¾‘ .env é…ç½®
./start.sh
```

**ç‰¹æ€§ï¼š**
- å¤šé˜¶æ®µæ„å»ºï¼Œé•œåƒä½“ç§¯æœ€å°ï¼ˆçº¦ 80MBï¼‰
- å‰ç«¯ç”± nginx:alpine æä¾›æœåŠ¡
- åç«¯ä¸º alpine:3.19 ä¸Šçš„ Go äºŒè¿›åˆ¶æ–‡ä»¶
- docker-compose æœåŠ¡ç¼–æ’
- å†…ç½® nginx ä»£ç†ï¼Œæ”¯æŒ WebSocket

> ğŸ“– **[æŸ¥çœ‹ Docker éƒ¨ç½²æŒ‡å— â†’](deploy-docker/README.zh-CN.md)**

### ğŸ”§ Shell è„šæœ¬éƒ¨ç½²

éœ€è¦æ›´å¤šéƒ¨ç½²æ§åˆ¶æ—¶ä½¿ç”¨ï¼š

```bash
# å¯åŠ¨äº¤äº’å¼éƒ¨ç½²å‘å¯¼
./deploy.sh
```

äº¤äº’å¼å‘å¯¼ä¼šå¼•å¯¼æ‚¨å®Œæˆæ•´ä¸ªéƒ¨ç½²æµç¨‹ï¼š

- âœ… **ç¯å¢ƒæ£€æŸ¥** - è‡ªåŠ¨éªŒè¯ä¾èµ–é¡¹
- âš™ï¸ **é…ç½®å‘å¯¼** - é€æ­¥è®¾ç½® .env æ–‡ä»¶å¹¶éªŒè¯
- ğŸ¯ **éƒ¨ç½²æ¨¡å¼** - ä» 4 ç§éƒ¨ç½²ç­–ç•¥ä¸­é€‰æ‹©
- ğŸ“Š **è¿›åº¦æ˜¾ç¤º** - å®æ—¶è¿›åº¦è·Ÿè¸ª
- âœ… **è‡ªåŠ¨éªŒè¯** - éƒ¨ç½²åå¥åº·æ£€æŸ¥
- ğŸ”„ **å›æ»šæ”¯æŒ** - å¤±è´¥æ—¶è‡ªåŠ¨å›æ»š

### ğŸ“‹ éƒ¨ç½²æ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| ğŸ³ **Docker** | å®¹å™¨åŒ–éƒ¨ç½² | å¿«é€Ÿéƒ¨ç½²ã€éš”ç¦»ç¯å¢ƒ |
| ğŸš€ **å¿«é€Ÿéƒ¨ç½²** | ä¸€é”®å®Œæ•´éƒ¨ç½² | é¦–æ¬¡éƒ¨ç½²ã€å¿«é€Ÿä¸Šçº¿ |
| ğŸ’» **å¼€å‘ç¯å¢ƒ** | ä»…æ„å»ºã€ä¸å®‰è£… | æœ¬åœ°å¼€å‘è°ƒè¯• |
| ğŸ“¦ **ç”Ÿäº§ç¯å¢ƒ** | å®Œæ•´éƒ¨ç½²å«å¤‡ä»½ | ç”Ÿäº§ç¯å¢ƒæ›´æ–° |
| âš™ï¸ **è‡ªå®šä¹‰** | åˆ†æ­¥æ‰‹åŠ¨æ§åˆ¶ | é«˜çº§ç”¨æˆ· |

**é¢„è®¡è€—æ—¶ï¼š** 3-5 åˆ†é’Ÿ

> ğŸ“– **[æŸ¥çœ‹ Shell éƒ¨ç½²æŒ‡å— â†’](deploy-sh/README.zh-CN.md)**

---

## ğŸŒ æœåŠ¡ä»£ç†

### ğŸ”— æ–¹å¼ä¸€ï¼šå­åŸŸåè®¿é—®ï¼ˆæ¨èï¼‰

é€šè¿‡ `{å®¹å™¨å}.code.example.com` è®¿é—®å®¹å™¨æœåŠ¡

```
ğŸ‘¤ ç”¨æˆ· â†’ ğŸ“¡ Nginx â†’ ğŸ”€ Traefik â†’ ğŸ³ å®¹å™¨:8080
```

**é…ç½®æ­¥éª¤ï¼š**
1. ğŸŒ **DNS**ï¼šæ·»åŠ æ³›åŸŸåè§£æ `*.code.example.com â†’ æœåŠ¡å™¨IP`
2. ğŸ“ **Nginx**ï¼šé…ç½®å­åŸŸåè·¯ç”±ï¼ˆå‚è€ƒ [nginx.conf](deploy/nginx.conf)ï¼‰
3. âš™ï¸ **ç¯å¢ƒå˜é‡**ï¼šè®¾ç½® `CODE_SERVER_BASE_DOMAIN=code.example.com`

### ğŸ”Œ æ–¹å¼äºŒï¼šç«¯å£ç›´æ¥è®¿é—®

é€šè¿‡ `http://æœåŠ¡å™¨IP:30001` ç›´æ¥è®¿é—®

ğŸ“Œ å¯ç”¨ç«¯å£èŒƒå›´ï¼š`30001-30020`

---

## âš™ï¸ ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `PORT` | åç«¯æœåŠ¡ç«¯å£ | `8080` |
| `ADMIN_USERNAME` | ç®¡ç†å‘˜ç”¨æˆ·å | `admin` |
| `ADMIN_PASSWORD` | ç®¡ç†å‘˜å¯†ç  | è‡ªåŠ¨ç”Ÿæˆ |
| `JWT_SECRET` | JWT ç­¾åå¯†é’¥ | è‡ªåŠ¨ç”Ÿæˆ |
| `DATABASE_PATH` | SQLite æ•°æ®åº“è·¯å¾„ | `./data/cc-platform.db` |
| `AUTO_START_TRAEFIK` | è‡ªåŠ¨å¯åŠ¨ Traefik | `false` |
| `CODE_SERVER_BASE_DOMAIN` | Code-server å­åŸŸå | (ç©º) |
| `TRAEFIK_HTTP_PORT` | Traefik HTTP ç«¯å£ | è‡ªåŠ¨ (38000+) |

---

## ğŸ¤– è‡ªåŠ¨åŒ–ä¸ç›‘æ§

æœ¬å¹³å°å†…ç½®å¼ºå¤§çš„ PTYï¼ˆä¼ªç»ˆç«¯ï¼‰ç›‘æ§ç³»ç»Ÿï¼Œå¯è‡ªåŠ¨æ£€æµ‹ç»ˆç«¯é™é»˜å¹¶è§¦å‘ç›¸åº”åŠ¨ä½œã€‚

### ç›‘æ§åŠŸèƒ½

- **é™é»˜æ£€æµ‹**ï¼šå¯é…ç½® 5 åˆ° 300 ç§’çš„é˜ˆå€¼
- **ä¸Šä¸‹æ–‡ç¼“å†²**ï¼šæ•è·æœ€è¿‘çš„ç»ˆç«¯è¾“å‡ºï¼ˆå¯é…ç½®å¤§å°ï¼‰
- **Claude Code æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹ç»ˆç«¯ä¸­çš„ Claude Code CLI
- **å¤šç§ç­–ç•¥**ï¼š4 ç§ä¸åŒçš„è‡ªåŠ¨åŒ–ç­–ç•¥å¯é€‰

### è‡ªåŠ¨åŒ–ç­–ç•¥

#### 1. Webhook ç­–ç•¥
åœ¨ç»ˆç«¯é™é»˜æ—¶å‘é…ç½®çš„ webhook URL å‘é€ HTTP POST è¯·æ±‚ã€‚

**é…ç½®é¡¹ï¼š**
- Webhook URL
- è‡ªå®šä¹‰ headersï¼ˆJSON æ ¼å¼ï¼‰
- è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ŒæŒ‡æ•°é€€é¿ï¼ˆ3 æ¬¡å°è¯•ï¼‰

**è½½è·ç¤ºä¾‹ï¼š**
```json
{
  "container_id": 123,
  "session_id": "abc123",
  "silence_duration": 10,
  "last_output": "æœ€è¿‘çš„ç»ˆç«¯è¾“å‡º..."
}
```

#### 2. å‘½ä»¤æ³¨å…¥ç­–ç•¥
åœ¨æ£€æµ‹åˆ°ç»ˆç«¯é™é»˜æ—¶è‡ªåŠ¨æ³¨å…¥å‘½ä»¤ã€‚

**é…ç½®é¡¹ï¼š**
- å‘½ä»¤æ¨¡æ¿ï¼Œæ”¯æŒå ä½ç¬¦ï¼š
  - `{container_id}` - å®¹å™¨ ID
  - `{session_id}` - ç»ˆç«¯ä¼šè¯ ID
  - `{timestamp}` - å½“å‰æ—¶é—´æˆ³
  - `{silence_duration}` - é™é»˜æŒç»­æ—¶é—´
  - `{docker_id}` - Docker å®¹å™¨ ID

**ç¤ºä¾‹ï¼š**
```
echo "æ£€æµ‹åˆ°é™é»˜ {silence_duration}ç§’ï¼Œæ—¶é—´ {timestamp}"
```

#### 3. ä»»åŠ¡é˜Ÿåˆ—ç­–ç•¥
ç»´æŠ¤ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨ç»ˆç«¯é™é»˜æ—¶è‡ªåŠ¨æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ‹–æ‹½æ’åºä»»åŠ¡
- ä»»åŠ¡çŠ¶æ€è·Ÿè¸ªï¼ˆå¾…å¤„ç†ã€è¿›è¡Œä¸­ã€å·²å®Œæˆã€å·²è·³è¿‡ã€å¤±è´¥ï¼‰
- æ¸…é™¤å·²å®Œæˆä»»åŠ¡
- é˜Ÿåˆ—ç©ºé€šçŸ¥

#### 4. AI ç­–ç•¥ï¼ˆLLM é©±åŠ¨ï¼‰
ä½¿ç”¨å¤–éƒ¨ LLMï¼ˆOpenAI å…¼å®¹ APIï¼‰åˆ†æç»ˆç«¯è¾“å‡ºå¹¶å†³å®šæ‰§è¡ŒåŠ¨ä½œã€‚

**é…ç½®é¡¹ï¼š**
- AI API ç«¯ç‚¹
- API å¯†é’¥
- æ¨¡å‹åç§°
- ç³»ç»Ÿæç¤ºè¯
- æ¸©åº¦å‚æ•°ï¼ˆ0.0-2.0ï¼‰
- è¶…æ—¶æ—¶é—´
- AI ä¸å¯ç”¨æ—¶çš„å¤‡ç”¨åŠ¨ä½œ

**AI å†³ç­–ç±»å‹ï¼š**
- `inject`ï¼šæ³¨å…¥å‘½ä»¤
- `skip`ï¼šè·³è¿‡æ­¤æ¬¡é™é»˜äº‹ä»¶
- `notify`ï¼šä»…å‘é€é€šçŸ¥
- `complete`ï¼šæ ‡è®°ä»»åŠ¡å®Œæˆ

### è‡ªåŠ¨åŒ–æ—¥å¿—

æ‰€æœ‰è‡ªåŠ¨åŒ–åŠ¨ä½œéƒ½ä¼šè¢«è¯¦ç»†è®°å½•ï¼š

- ç­–ç•¥ç±»å‹
- æ‰§è¡ŒåŠ¨ä½œ
- æ‰§è¡Œçš„å‘½ä»¤
- ä¸Šä¸‹æ–‡ç‰‡æ®µ
- AI å“åº”ï¼ˆAI ç­–ç•¥ï¼‰
- æ‰§è¡Œç»“æœ
- é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰
- æ—¶é—´æˆ³

**æ—¥å¿—åŠŸèƒ½ï¼š**
- æŒ‰å®¹å™¨ã€ç­–ç•¥ã€ç»“æœã€æ—¥æœŸèŒƒå›´ç­›é€‰
- åˆ†é¡µæ”¯æŒ
- å¯¼å‡ºä¸º JSONï¼ˆæœ€å¤š 10,000 æ¡è®°å½•ï¼‰
- ç»Ÿè®¡ä»ªè¡¨æ¿
- å¯é…ç½®çš„ä¿ç•™æœŸé™

---


### å‘½ä»¤

| å‘½ä»¤ | å¿«æ·é”® | è¯´æ˜ |
|------|--------|------|
| `PTY: Toggle Monitoring` | `Ctrl+Shift+M` | å¯ç”¨/ç¦ç”¨ç›‘æ§ |
| `PTY: Open Task Panel` | `Ctrl+Shift+T` | æ‰“å¼€ä»»åŠ¡é˜Ÿåˆ—é¢æ¿ |
| `PTY: Open Settings` | - | é…ç½®è‡ªåŠ¨åŒ–è®¾ç½® |
| `PTY: Change Strategy` | - | åˆ‡æ¢è‡ªåŠ¨åŒ–ç­–ç•¥ |
| `PTY: Reconnect` | - | é‡æ–°è¿æ¥æœåŠ¡å™¨ |

### é…ç½®

```json
{
  "ptyAutomation.serverUrl": "http://localhost:8080",
  "ptyAutomation.autoConnect": true,
  "ptyAutomation.showStatusBar": true,
  "ptyAutomation.defaultStrategy": "webhook",
  "ptyAutomation.silenceThreshold": 30
}
```

### å®‰è£…

```bash
cd vscode-extension
npm install
npm run compile
# ç„¶ååœ¨ VS Code ä¸­å®‰è£… .vsix æ–‡ä»¶
```

---

## ğŸ“š API å‚è€ƒ

<details>
<summary>ğŸ” <b>è®¤è¯æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/logout` | ç”¨æˆ·ç™»å‡º |
| GET | `/api/auth/verify` | éªŒè¯ Token |

</details>

<details>
<summary>âš™ï¸ <b>è®¾ç½®æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/settings/github` | è·å– GitHub é…ç½®çŠ¶æ€ |
| POST | `/api/settings/github` | ä¿å­˜ GitHub Token |
| GET | `/api/settings/claude` | è·å– Claude é…ç½® |
| POST | `/api/settings/claude` | ä¿å­˜ Claude é…ç½® |

</details>

<details>
<summary>ğŸ“‚ <b>ä»“åº“æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/repos/remote` | åˆ—å‡º GitHub ä»“åº“ |
| POST | `/api/repos/clone` | å…‹éš†ä»“åº“ |
| GET | `/api/repos/local` | åˆ—å‡ºæœ¬åœ°ä»“åº“ |
| DELETE | `/api/repos/:id` | åˆ é™¤ä»“åº“ |

</details>

<details>
<summary>ğŸ³ <b>å®¹å™¨æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/containers` | åˆ—å‡ºå®¹å™¨ |
| POST | `/api/containers` | åˆ›å»ºå®¹å™¨ |
| GET | `/api/containers/:id` | è·å–å®¹å™¨è¯¦æƒ… |
| POST | `/api/containers/:id/start` | å¯åŠ¨å®¹å™¨ |
| POST | `/api/containers/:id/stop` | åœæ­¢å®¹å™¨ |
| DELETE | `/api/containers/:id` | åˆ é™¤å®¹å™¨ |
| GET | `/api/containers/:id/logs` | è·å–å®¹å™¨æ—¥å¿— |
| GET | `/api/containers/:id/api-config` | è·å– API é…ç½®ï¼ˆURL å’Œ Tokenï¼‰ |
| GET | `/api/docker/containers` | åˆ—å‡ºæ‰€æœ‰ Docker å®¹å™¨ |
| POST | `/api/docker/containers/:dockerId/stop` | åœæ­¢ Docker å®¹å™¨ |
| DELETE | `/api/docker/containers/:dockerId` | åˆ é™¤ Docker å®¹å™¨ |

</details>

<details>
<summary>ğŸ”Œ <b>ç«¯å£æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/ports/:id` | åˆ—å‡ºå®¹å™¨ç«¯å£ |
| POST | `/api/ports/:id` | æ·»åŠ ç«¯å£æ˜ å°„ |
| DELETE | `/api/ports/:id/:portId` | åˆ é™¤ç«¯å£æ˜ å°„ |
| GET | `/api/ports/all` | åˆ—å‡ºæ‰€æœ‰ç«¯å£ |

</details>

<details>
<summary>ğŸ’» <b>ç»ˆç«¯å’Œæ–‡ä»¶æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| WS | `/api/ws/terminal/:id` | WebSocket ç»ˆç«¯ |
| GET | `/api/terminal/:id/sessions` | åˆ—å‡ºç»ˆç«¯ä¼šè¯ |
| GET | `/api/files/:id/list` | åˆ—å‡ºç›®å½• |
| GET | `/api/files/:id/download` | ä¸‹è½½æ–‡ä»¶ |
| POST | `/api/files/:id/upload` | ä¸Šä¼ æ–‡ä»¶ |
| DELETE | `/api/files/:id/delete` | åˆ é™¤æ–‡ä»¶/ç›®å½• |
| POST | `/api/files/:id/mkdir` | åˆ›å»ºç›®å½• |

</details>

<details>
<summary>ğŸ’¬ <b>Headless æ¨¡å¼æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| WS | `/api/ws/headless/:containerId` | Headless WebSocketï¼ˆå®¹å™¨æ¨¡å¼ï¼‰ |
| WS | `/api/ws/headless/conversation/:conversationId` | Headless WebSocketï¼ˆå¯¹è¯æ¨¡å¼ï¼‰ |
| GET | `/api/containers/:id/headless/conversations` | åˆ—å‡ºå¯¹è¯ |
| GET | `/api/containers/:id/headless/conversations/:convId` | è·å–å¯¹è¯ |
| DELETE | `/api/containers/:id/headless/conversations/:convId` | åˆ é™¤å¯¹è¯ |
| GET | `/api/containers/:id/headless/conversations/:convId/turns` | è·å–å¯¹è¯è½®æ¬¡ |
| GET | `/api/containers/:id/headless/conversations/:convId/status` | è·å–å¯¹è¯çŠ¶æ€ |

</details>

<details>
<summary>ğŸ¤– <b>ç›‘æ§ä¸è‡ªåŠ¨åŒ–æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/monitoring/:id/status` | è·å–ç›‘æ§çŠ¶æ€ |
| POST | `/api/monitoring/:id/config` | æ›´æ–°ç›‘æ§é…ç½® |
| GET | `/api/monitoring/:id/config` | è·å–ç›‘æ§é…ç½® |
| GET | `/api/monitoring/:id/context` | è·å–ä¸Šä¸‹æ–‡ç¼“å†² |
| GET | `/api/monitoring/strategies` | åˆ—å‡ºå¯ç”¨ç­–ç•¥ |

</details>

<details>
<summary>ğŸ“‹ <b>ä»»åŠ¡é˜Ÿåˆ—æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/tasks/:id` | åˆ—å‡ºå®¹å™¨ä»»åŠ¡ |
| POST | `/api/tasks/:id` | æ·»åŠ æ–°ä»»åŠ¡ |
| PUT | `/api/tasks/:id/:taskId` | æ›´æ–°ä»»åŠ¡ |
| DELETE | `/api/tasks/:id/:taskId` | åˆ é™¤ä»»åŠ¡ |
| POST | `/api/tasks/:id/reorder` | é‡æ’ä»»åŠ¡ |
| GET | `/api/tasks/:id/count` | è·å–ä»»åŠ¡æ•°é‡ |
| DELETE | `/api/tasks/:id/clear` | æ¸…é™¤æ‰€æœ‰ä»»åŠ¡ |
| DELETE | `/api/tasks/:id/clear-completed` | æ¸…é™¤å·²å®Œæˆä»»åŠ¡ |

</details>

<details>
<summary>ğŸ“Š <b>è‡ªåŠ¨åŒ–æ—¥å¿—æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/automation-logs` | åˆ—å‡ºè‡ªåŠ¨åŒ–æ—¥å¿— |
| GET | `/api/automation-logs/stats` | è·å–æ—¥å¿—ç»Ÿè®¡ |
| POST | `/api/automation-logs/export` | å¯¼å‡ºæ—¥å¿—ä¸º JSON |
| DELETE | `/api/automation-logs/cleanup` | æ¸…ç†æ—§æ—¥å¿— |

</details>

<details>
<summary>ğŸ“ <b>é…ç½®æ¨¡æ¿æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/config-templates` | åˆ—å‡ºæ‰€æœ‰é…ç½®æ¨¡æ¿ |
| POST | `/api/config-templates` | åˆ›å»ºé…ç½®æ¨¡æ¿ |
| GET | `/api/config-templates/:id` | è·å–é…ç½®æ¨¡æ¿ |
| PUT | `/api/config-templates/:id` | æ›´æ–°é…ç½®æ¨¡æ¿ |
| DELETE | `/api/config-templates/:id` | åˆ é™¤é…ç½®æ¨¡æ¿ |
| POST | `/api/containers/:id/inject-configs` | æ³¨å…¥é…ç½®åˆ°å®¹å™¨ |

</details>

<details>
<summary>âš™ï¸ <b>é…ç½®æ–‡ä»¶æ¥å£</b></summary>

| æ–¹æ³• | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| GET | `/api/config-profiles` | åˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶ |
| POST | `/api/config-profiles` | åˆ›å»ºé…ç½®æ–‡ä»¶ |
| GET | `/api/config-profiles/:id` | è·å–é…ç½®æ–‡ä»¶ |
| PUT | `/api/config-profiles/:id` | æ›´æ–°é…ç½®æ–‡ä»¶ |
| DELETE | `/api/config-profiles/:id` | åˆ é™¤é…ç½®æ–‡ä»¶ |
| GET | `/api/config-profiles/:id/env` | è·å–ç¯å¢ƒé…ç½® |
| POST | `/api/config-profiles/:id/env` | åˆ›å»º/æ›´æ–°ç¯å¢ƒé…ç½® |

</details>

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ ğŸ”§ backend/              # Go åç«¯
â”‚   â”œâ”€â”€ cmd/server/          # å…¥å£ç‚¹
â”‚   â”œâ”€â”€ internal/            # å†…éƒ¨åŒ…
â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®
â”‚   â”‚   â”œâ”€â”€ handlers/        # HTTP å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ config_template.go  # é…ç½®æ¨¡æ¿ API
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ config_template_service.go    # æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ config_injection_service.go   # é…ç½®æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ terminal/        # ç»ˆç«¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ headless/        # Headless æ¨¡å¼ï¼ˆClaude CLIï¼‰
â”‚   â”‚   â”œâ”€â”€ monitoring/      # PTY ç›‘æ§ä¸è‡ªåŠ¨åŒ–
â”‚   â”‚   â”œâ”€â”€ mode/            # TUI/Headless æ¨¡å¼ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/      # è®¤è¯ã€CORSã€é€Ÿç‡é™åˆ¶
â”‚   â”‚   â”œâ”€â”€ docker/          # Docker å®¢æˆ·ç«¯ä¸å®‰å…¨
â”‚   â”‚   â”œâ”€â”€ database/        # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚       â””â”€â”€ claude_config_template.go  # é…ç½®æ¨¡æ¿æ¨¡å‹
â”‚   â””â”€â”€ pkg/                 # å…¬å…±åŒ…
â”‚       â”œâ”€â”€ crypto/          # åŠ å¯†å·¥å…·
â”‚       â”œâ”€â”€ pathutil/        # è·¯å¾„éªŒè¯
â”‚       â””â”€â”€ httputil/        # HTTP å·¥å…·
â”‚
â”œâ”€â”€ ğŸ¨ frontend/             # React å‰ç«¯
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/      # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ Automation/  # è‡ªåŠ¨åŒ– UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ Headless/    # Headless æ¨¡å¼ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ MarkdownRenderer.tsx  # Markdown è¯­æ³•é«˜äº®
â”‚       â”‚   â”‚   â””â”€â”€ TurnCard.tsx          # å¯¹è¯è½®æ¬¡æ˜¾ç¤º
â”‚       â”‚   â”œâ”€â”€ FileManager/ # æ–‡ä»¶ç®¡ç†ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ layout/      # å¸ƒå±€ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ui/          # shadcn/ui ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ConfigPreview.tsx         # é…ç½®é¢„è§ˆç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ConfigTemplateEditor.tsx  # æ¨¡æ¿ç¼–è¾‘å™¨
â”‚       â”‚   â”œâ”€â”€ ConfigInjectionDialog.tsx # æ³¨å…¥å¯¹è¯æ¡†
â”‚       â”‚   â””â”€â”€ ServerAddressInput.tsx    # æœåŠ¡å™¨åœ°å€è¾“å…¥
â”‚       â”œâ”€â”€ pages/           # é¡µé¢
â”‚       â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚       â”‚   â”œâ”€â”€ HeadlessChat.tsx    # ç‹¬ç«‹èŠå¤© UI
â”‚       â”‚   â”œâ”€â”€ HeadlessTerminal.tsx
â”‚       â”‚   â”œâ”€â”€ ContainerTerminal.tsx
â”‚       â”‚   â”œâ”€â”€ ClaudeConfig.tsx    # é…ç½®ç®¡ç†é¡µé¢
â”‚       â”‚   â”œâ”€â”€ Settings.tsx
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ hooks/           # React hooks
â”‚       â”‚   â”œâ”€â”€ useAuth.ts
â”‚       â”‚   â””â”€â”€ useHeadlessSession.ts
â”‚       â”œâ”€â”€ services/        # API æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ api.ts
â”‚       â”‚   â”œâ”€â”€ headlessApi.ts
â”‚       â”‚   â”œâ”€â”€ headlessWebsocket.ts
â”‚       â”‚   â”œâ”€â”€ claudeConfigApi.ts        # é…ç½® API æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ serverAddressManager.ts   # æœåŠ¡å™¨åœ°å€ç®¡ç†
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ types/           # TypeScript ç±»å‹
â”‚           â””â”€â”€ claudeConfig.ts           # é…ç½®ç±»å‹
â”‚
â”œâ”€â”€ ğŸ§© vscode-extension/     # VS Code æ‰©å±•
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ extension.ts     # æ‰©å±•å…¥å£
â”‚       â”œâ”€â”€ statusBar.ts     # çŠ¶æ€æ é›†æˆ
â”‚       â”œâ”€â”€ commands/        # VS Code å‘½ä»¤
â”‚       â”œâ”€â”€ services/        # WebSocket å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ webview/         # Webview é¢æ¿
â”‚       â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ ğŸ³ docker/               # Docker é…ç½®ï¼ˆå¼€å‘å®¹å™¨ï¼‰
â”‚   â”œâ”€â”€ Dockerfile.base      # åŸºç¡€é•œåƒ
â”‚   â”œâ”€â”€ extensions/          # VS Code æ‰©å±•
â”‚   â””â”€â”€ traefik/             # Traefik ä»£ç†é…ç½®
â”‚
â”œâ”€â”€ ğŸ³ deploy-docker/        # Docker éƒ¨ç½²
â”‚   â”œâ”€â”€ Dockerfile.backend   # åç«¯é•œåƒ
â”‚   â”œâ”€â”€ Dockerfile.frontend  # å‰ç«¯é•œåƒ
â”‚   â”œâ”€â”€ docker-compose.yml   # æœåŠ¡ç¼–æ’
â”‚   â”œâ”€â”€ nginx.conf           # Nginx é…ç½®
â”‚   â”œâ”€â”€ start.sh             # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ README.md            # Docker éƒ¨ç½²æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ“¦ deploy-sh/            # Shell è„šæœ¬éƒ¨ç½²
â”‚   â”œâ”€â”€ README.md            # éƒ¨ç½²æŒ‡å— (è‹±æ–‡)
â”‚   â”œâ”€â”€ README.zh-CN.md      # éƒ¨ç½²æŒ‡å— (ä¸­æ–‡)
â”‚   â”œâ”€â”€ flows/               # éƒ¨ç½²æµç¨‹
â”‚   â”œâ”€â”€ lib/                 # éƒ¨ç½²åº“
â”‚   â””â”€â”€ nginx.conf           # Nginx é…ç½®
â”‚
â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ start-dev.sh             # å¼€å‘å¯åŠ¨è„šæœ¬ (Linux/Mac)
â”œâ”€â”€ start-dev.bat            # å¼€å‘å¯åŠ¨è„šæœ¬ (Windows)
â””â”€â”€ deploy.sh                # éƒ¨ç½²è„šæœ¬
```

---

## ğŸ”’ å®‰å…¨ç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸ‘¤ é root è¿è¡Œ | å®¹å™¨ä»¥é root ç”¨æˆ·è¿è¡Œ |
| ğŸ” èƒ½åŠ›åˆ é™¤ | åˆ é™¤æ‰€æœ‰ä¸å¿…è¦çš„ Linux èƒ½åŠ› |
| ğŸ›¡ï¸ Seccomp | åº”ç”¨å®‰å…¨é…ç½®æ–‡ä»¶ |
| ğŸ“Š èµ„æºé™åˆ¶ | å¼ºåˆ¶æ‰§è¡Œ CPU å’Œå†…å­˜é™åˆ¶ |
| ğŸš« Docker Socket | å®¹å™¨å†…ç¦æ­¢è®¿é—® |
| ğŸ›¤ï¸ è·¯å¾„ä¿æŠ¤ | å¯ç”¨è·¯å¾„éå†é˜²æŠ¤ |
| ğŸ”’ åŠ å¯†å­˜å‚¨ | æ•æ„Ÿæ•°æ®ä½¿ç”¨ AES-256-GCM åŠ å¯† |
| â±ï¸ é€Ÿç‡é™åˆ¶ | ç™»å½•å°è¯•é™åˆ¶ï¼ˆ5æ¬¡/åˆ†é’Ÿï¼Œçªå‘ 10 æ¬¡ï¼‰ |
| ğŸª å®‰å…¨ Cookie | HTTP-only cookie ç®¡ç†ä¼šè¯ |
| ğŸ”‘ çµæ´»è®¤è¯ | æ”¯æŒå¤šç§è®¤è¯æ–¹å¼ |

---

## ğŸ™ é¸£è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®æ„å»ºï¼š

### åç«¯
- [Go](https://github.com/golang/go) - Go ç¼–ç¨‹è¯­è¨€
- [Gin](https://github.com/gin-gonic/gin) - HTTP Web æ¡†æ¶
- [GORM](https://github.com/go-gorm/gorm) - Go è¯­è¨€ ORM åº“
- [gorilla/websocket](https://github.com/gorilla/websocket) - WebSocket å®ç°
- [Docker Engine API](https://github.com/moby/moby) - å®¹å™¨ç®¡ç†

### å‰ç«¯
- [React](https://github.com/facebook/react) - UI åº“
- [Vite](https://github.com/vitejs/vite) - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- [Tailwind CSS](https://github.com/tailwindlabs/tailwindcss) - åŸå­åŒ– CSS æ¡†æ¶
- [shadcn/ui](https://github.com/shadcn-ui/ui) - å¯å¤ç”¨ UI ç»„ä»¶
- [xterm.js](https://github.com/xtermjs/xterm.js) - ç»ˆç«¯æ¨¡æ‹Ÿå™¨

### åŸºç¡€è®¾æ–½
- [Traefik](https://github.com/traefik/traefik) - äº‘åŸç”Ÿåå‘ä»£ç†
- [code-server](https://github.com/coder/code-server) - æµè§ˆå™¨ä¸­çš„ VS Code
- [SQLite](https://sqlite.org/) - åµŒå…¥å¼æ•°æ®åº“å¼•æ“

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

<p align="center">
  ç”¨ â¤ï¸ ä¸º Claude Code å¼€å‘è€…æ‰“é€ 
</p>
